<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<meta name="viewport" content="width=device-width, initial-sale=1"/>

	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">

    <link rel="stylesheet" href="jquery-ui/jquery-ui.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="jquery-ui/jquery-ui.min.js"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
    <link href='https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.1/css/all.css' rel='stylesheet'>

	<link href='fullcalendar/main.css' rel='stylesheet' />
    <script src='fullcalendar/main.js'></script>

    <link rel="stylesheet" href="css/index.css">
    <script src="js/index.js"></script>
    <script>
        // 젤 후순위 로딩
        document.addEventListener('DOMContentLoaded', function() {
            // load
            changeMonth();
            resizeMain();

            // event
            $(".fc-toolbar-chunk button").click(changeMonth);
            $(window).resize(resizeMain);

            let userinfo = document.querySelector('#userinfo');
            let info = document.querySelector('#info');
            let infoMenu = document.querySelector('#info_menu');
            userinfo.addEventListener('click', function() {
                infoMenu.removeAttribute('hidden');
            });
            info.addEventListener('mouseleave', function() {
                infoMenu.setAttribute('hidden',true);
            });

            // 다이얼로그 오픈
            $('#dialogOpen').click(function() {
                $('#dialog').dialog('open');
            });

            // 다이얼로그 세팅
            $('#dialog').dialog({
                autoOpen: false, // 실행시 자동열림
                model: false
            });

            // DatePicker 세팅
            $('#event-date').datepicker({
                dateFormat: 'yy-mm-dd',
                monthNames: ['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월'],
                monthNamesShort: ['1월', '2월', '3월', '4월', '5월', '6월', '7월', '8월', '9월', '10월', '11월', '12월'],
                dayNames: ['일', '월', '화', '수', '목', '금', '토'],
                dayNamesMin: ['일', '월', '화', '수', '목', '금', '토'],
                showMonthAfterYear: true,
                yearSuffix: '년'
            });
        });
    </script>
</head>
<body>
	<div id="header">
		<div id="icons">
            <a href="index.html" class="disableLink"><i class="bi bi-house-fill" title="Home"></i></a>
            <a href="test.html"><i class="bi bi-person-lines-fill" title="Friends"></i></a>
            <a href="#"><i class="bi bi-people-fill" title="Group"></i></a>
            <a href="#"><i class="bi bi-megaphone-fill" title="Announcement"></i></a>
		</div>
        <div id="info">
            <a id="login-btn" href="login.html" type="button" class="btn btn-info" hidden>로그인</a>
            <div>
                <div id="userinfo">
                    <img src="img/user.png">
                    <i class="bi bi-caret-down"></i>
                </div>
            </div>
            <div id="info_menu" hidden>
                <ul>
                    <a href="#"><li>내 정보</li></a>
                    <a href="#"><li>로그아웃</li></a>
                </ul>
            </div>
        </div>
	</div>
	<div id="main">
        <div id="sidebar">
            <div id="sideTitle">
                <span>일정 목록</span>
                <div id="dialogOpen"><i class="bi bi-calendar-plus"></i></div>
            </div>

            <div id="sideMonth">
                <a href="#" onclick="prevMonth()">◁</a>
                <span></span> 
                <a href="#" onclick="nextMonth()">▷</a>
            </div>

            <div id="sideMain">
                <div id="listbox">
                </div>
            </div>
        </div>
        <div id="contentsBack">
            <div id=contents>
                <div id='usercode'>Usercode: 이현수#0000</div>
                <div id='calendar'></div>
                <script src="js/myCalendar.js"></script>
            </div>
        </div>
    </div>
    <!-- 다이얼로그 창 -->
    <div id="dialog" title="일정 등록">
        <input type="text" id="event-title" placeholder="제목">
        <input type="text" id="event-date" placeholder="시작날짜(년-월-일)">
        <input type="text" id="event-date" placeholder="종료날짜(년-월-일)">
        <input type="checkbox" id="private"><label for="private">Private</label>
    </div>
</body>
</html>