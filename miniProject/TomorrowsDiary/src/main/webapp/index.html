<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<meta name="viewport" content="width=device-width, initial-sale=1"/>

    <!-- reset.css -->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha512-NhSC1YmyruXifcj/KFRWoC561YpHpc5Jtzgvbuzx5VozKpWvQ+4nXhPdFgmx8xqexRcpAglTj9sIBWINXa8x5w==" crossorigin="anonymous" referrerpolicy="no-referrer" /> -->

	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-fQybjgWLrvvRgtW6bFlB7jaZrFsaBXjsOMm/tB9LTS58ONXgqbR9W8oWht/amnpF" crossorigin="anonymous"></script>
    <link href='https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.1/css/all.css' rel='stylesheet'>

	<link href='fullcalendar/main.css' rel='stylesheet' />
    <script src='fullcalendar/main.js'></script>

    <link rel="stylesheet" href="css/home.css">
    <!-- <script src="js/main.js"></script> -->
    <script>
        const resizeMain = () => {
            let headerHeight = Number($('#header').css('height').substring(0, $('#header').css('height').length-2));
            let sideTitleHeight = Number($('#sideTitle').css('height').substring(0, $('#sideTitle').css('height').length-2));
            let sideMonthHeight = Number($('#sideMonth').css('height').substring(0, $('#sideMonth').css('height').length-2))
            $('#sidebar').css('height', window.innerHeight-Number($('#header').css('height').substring(0, $('#header').css('height').length-2)));
            $('#sideMain').css('height', window.innerHeight-headerHeight-sideTitleHeight-sideMonthHeight);

            let sidebarWidth = Number($('#sidebar').css('width').substring(0, $('#sidebar').css('width').length-2));
            $('#contentsBack').css('height', window.innerHeight-headerHeight);
            $('#contentsBack').css('width', window.innerWidth-sidebarWidth-17);

            // let calwidth = screen.availWidth-sidebarWidth-380;
            let calwidth = window.innerWidth-sidebarWidth-250;
            $('#contents').css('height', window.innerHeight-headerHeight-60);
            $('#contents').css('width', calwidth);

            calendar.render();
        }

        let event = {
            title: '가족여행',
            start: '2022-02-02',
            end: '2022-02-07'
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            resizeMain();
            $(window).resize(resizeMain);
        });
    </script>
    <style>
        #usercode {
            height: 30px;
        }
        #contents {
            margin: 0 auto;
        }
        #calendar{
            height: inherit;
            padding: 20px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.8);
        }
    </style>
</head>
<body>
	<div id="header">
		<div id="icons">
            <a href="index.html" class="disableLink"><i class="bi bi-house-fill" title="Home"></i></a>
            <a href="test.html"><i class="bi bi-person-lines-fill" title="Friends"></i></a>
            <a href="#"><i class="bi bi-people-fill" title="Group"></i></a>
            <a href="#"><i class="bi bi-megaphone-fill" title="Announcement"></i></a>
		</div>
	</div>
	<div id="main">
        <div id="sidebar">
            <div id="sideTitle">
                <span>일정 목록</span>
                <i class="bi bi-calendar-plus"></i>
            </div>
            <p id="sideMonth"><a href="#">◁</a> 2월 <a href="#">▷</a></p>
            <div id="sideMain">
                <div id="listbox">
                    <div class="list"></div>
                    <div class="list"></div>
                    <div class="list"></div>
                    <div class="list"></div>
                    <div class="list"></div>
                    <div class="list"></div>
                    <div class="list"></div>
                    <div class="list"></div>
                    <div class="list"></div>
                    <div class="list"></div>
                    <div class="list"></div>
                    <div class="list"></div>
                </div>
            </div>
        </div>
        <div id="contentsBack">
            <div id=contents>
                <div id="usercode"></div>
                <div id='calendar'></div>
                <script>
                    var calendarEl = document.getElementById('calendar'); // 태그
                    var calendar = new FullCalendar.Calendar(calendarEl, {
                        initialView: 'dayGridMonth',
                        aspectRatio: 1.8,
                        windowResizeDelay: 1,
                        headerToolbar: {
                            start: 'today',
                            center: 'title',
                            end: 'prevYear,prev,next,nextYear'
                        },
                        buttonText: {
                            today: 'Today'
                        },
                        titleFormat: {
                            year: 'numeric',
                            month: 'short'
                        },
                        dateClick: function(info) {
                            alert('Date ' + info.dateStr);
                        },
                        events: [
                            event
                        ]
                        // selectable: true,
                        // dateClick: function() {
                        //     console.log(calendar);
                        // },
                        // initialDate: '2018-06-01'
                    });
                    // calendar.next();    // dayGridMonth일 경우 다음달
                    // calendar.prev();
                </script>
            </div>
        </div>
    </div>
</body>
</html>